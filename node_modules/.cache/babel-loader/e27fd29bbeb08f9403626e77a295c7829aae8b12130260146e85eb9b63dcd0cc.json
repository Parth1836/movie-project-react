{"ast":null,"code":"var _jsxFileName = \"/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { MovieList } from \"./MovieList\";\nimport axios from \"axios\";\nimport { API_URL } from \"../constans/API\";\nimport { Box, Button, Grid, TextField } from \"@mui/material\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllMovies } from \"../redux-store/slices/movieSlice\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  // const [page, setPage] = useState(1);\n  const moviesList = useSelector(state => {\n    var _state$moviesData, _state$moviesData$mov;\n    return state === null || state === void 0 ? void 0 : (_state$moviesData = state.moviesData) === null || _state$moviesData === void 0 ? void 0 : (_state$moviesData$mov = _state$moviesData.moviesList) === null || _state$moviesData$mov === void 0 ? void 0 : _state$moviesData$mov.results;\n  });\n  const totalPages = useSelector(state => {\n    var _state$moviesData2, _state$moviesData2$mo;\n    return state === null || state === void 0 ? void 0 : (_state$moviesData2 = state.moviesData) === null || _state$moviesData2 === void 0 ? void 0 : (_state$moviesData2$mo = _state$moviesData2.moviesList) === null || _state$moviesData2$mo === void 0 ? void 0 : _state$moviesData2$mo.total_pages;\n  });\n  let page = useSelector(state => {\n    var _state$moviesData3, _state$moviesData3$mo;\n    return state === null || state === void 0 ? void 0 : (_state$moviesData3 = state.moviesData) === null || _state$moviesData3 === void 0 ? void 0 : (_state$moviesData3$mo = _state$moviesData3.moviesList) === null || _state$moviesData3$mo === void 0 ? void 0 : _state$moviesData3$mo.page;\n  });\n  console.log(\"moviesList\", moviesList, \"dashboard page\", page);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  // const [totalPages, setTotalPages] = useState();\n\n  const changePage = pageNumber => {\n    var _window;\n    dispatch(getAllMovies(pageNumber));\n    page = pageNumber;\n    (_window = window) === null || _window === void 0 ? void 0 : _window.scrollTo(0, 0);\n  };\n  useEffect(() => {\n    console.log(\"moviesList useeffect\", moviesList, (moviesList === null || moviesList === void 0 ? void 0 : moviesList.length) < 1);\n    if (!moviesList) {\n      dispatch(getAllMovies(page));\n    }\n  }, []);\n  const searchMovie = () => {\n    navigate(`/search-movie/?query=${searchQuery}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          display: \"flex\",\n          margin: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          id: \"standard-textarea\",\n          label: \"Search Movie\",\n          placeholder: \"Search Movie\",\n          variant: \"standard\",\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            margin: \"10px\"\n          },\n          variant: \"contained\",\n          onClick: () => searchMovie(),\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), (moviesList === null || moviesList === void 0 ? void 0 : moviesList.length) && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(MovieList, {\n          moviesList: moviesList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), moviesList && (moviesList === null || moviesList === void 0 ? void 0 : moviesList.length) > 0 && /*#__PURE__*/_jsxDEV(PaginationComponent, {\n      totalPages: totalPages,\n      changePage: changePage,\n      currentPage: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Dashboard, \"1Yu9gYckhhk4JewnPP24rlLPcB4=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useSelector, useSelector];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","MovieList","axios","API_URL","Box","Button","Grid","TextField","Header","useNavigate","useDispatch","useSelector","getAllMovies","PaginationComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","navigate","dispatch","moviesList","state","_state$moviesData","_state$moviesData$mov","moviesData","results","totalPages","_state$moviesData2","_state$moviesData2$mo","total_pages","page","_state$moviesData3","_state$moviesData3$mo","console","log","searchQuery","setSearchQuery","changePage","pageNumber","_window","window","scrollTo","length","searchMovie","children","container","fileName","_jsxFileName","lineNumber","columnNumber","style","display","margin","id","label","placeholder","variant","onChange","e","target","value","onClick","currentPage","_c","$RefreshReg$"],"sources":["/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { MovieList } from \"./MovieList\";\nimport axios from \"axios\";\nimport { API_URL } from \"../constans/API\";\nimport { Box, Button, Grid, TextField } from \"@mui/material\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllMovies } from \"../redux-store/slices/movieSlice\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\n\nexport const Dashboard = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  // const [page, setPage] = useState(1);\n  const moviesList = useSelector((state) => state?.moviesData?.moviesList?.results);\n  const totalPages = useSelector((state) => state?.moviesData?.moviesList?.total_pages);\n  let page = useSelector((state) => state?.moviesData?.moviesList?.page);\n  console.log(\"moviesList\", moviesList, \"dashboard page\", page);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  \n  // const [totalPages, setTotalPages] = useState();\n\n  const changePage = (pageNumber) => {\n    dispatch(getAllMovies(pageNumber));\n    page = pageNumber;\n    window?.scrollTo(0,0);\n  };\n\n  useEffect(() => {\n    console.log(\"moviesList useeffect\", moviesList, moviesList?.length < 1)\n    if(!moviesList) {\n      dispatch(getAllMovies(page));\n    }\n  }, []);\n\n  const searchMovie = () => {\n    navigate(`/search-movie/?query=${searchQuery}`);\n  };\n  return (\n    <>\n      <Grid container>\n        <Header />\n        <Grid style={{ display: \"flex\", margin: \"auto\" }}>\n          <TextField\n            id=\"standard-textarea\"\n            label=\"Search Movie\"\n            placeholder=\"Search Movie\"\n            variant=\"standard\"\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n          <Button\n            style={{ margin: \"10px\" }}\n            variant=\"contained\"\n            onClick={() => searchMovie()}\n          >\n            Search\n          </Button>\n        </Grid>\n        {moviesList?.length && (\n          <>\n            <MovieList moviesList={moviesList} />\n          </>\n        )}\n      </Grid>\n      {moviesList && moviesList?.length > 0 && (\n        <PaginationComponent totalPages={totalPages} changePage={changePage} currentPage={page}/>\n\n      )}\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}