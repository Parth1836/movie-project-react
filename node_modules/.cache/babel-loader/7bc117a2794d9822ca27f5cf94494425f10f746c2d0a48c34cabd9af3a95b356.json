{"ast":null,"code":"var _jsxFileName = \"/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Search.js\",\n  _s = $RefreshSig$();\nimport { Box, Card, CardContent, CardMedia, Container, Grid, Pagination, Typography } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL, IMG_URL } from \"../constans/API\";\nimport axios from \"axios\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Search = () => {\n  _s();\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(document.location.search);\n  const searchQuery = searchParams.get(\"query\");\n  const genreId = searchParams.get(\"genreId\");\n  console.log(\"genreId\", genreId);\n  const [moviesList, setMoviesList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const loadSearchMoviesData = async (pageNumber = page, type, subUrl) => {\n    var _moviesData$data, _moviesData$data2;\n    const url = `${API_URL}/${type}/movie?api_key=26eb8fe0ea17478b691097b4e10c4ac9${subUrl}&page=${pageNumber}`;\n    const moviesData = await axios.get(url);\n    console.log(\"movies Data\", moviesData);\n    setTotalPages(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data = moviesData.data) === null || _moviesData$data === void 0 ? void 0 : _moviesData$data.total_pages);\n    setMoviesList(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data2 = moviesData.data) === null || _moviesData$data2 === void 0 ? void 0 : _moviesData$data2.results);\n  };\n  const changePage = pageNumber => {\n    var _window;\n    setPage(pageNumber);\n    (_window = window) === null || _window === void 0 ? void 0 : _window.scrollTo(0, 0);\n  };\n  useEffect(() => {\n    if (genreId) {\n      const subUrl = `&with_genres=${genreId}`;\n      loadSearchMoviesData(page, \"discover\", subUrl);\n    } else {\n      const subUrl = `&query=${searchQuery}`;\n      loadSearchMoviesData(page, \"search\", subUrl);\n    }\n  }, [searchQuery, genreId, page]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        padding: \"50px 25px\",\n        minHeight: \"600px\"\n      },\n      container: true,\n      spacing: 2,\n      children: moviesList === null || moviesList === void 0 ? void 0 : moviesList.map((movie, idx) => /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          width: \"90%\"\n        },\n        item: true,\n        xs: 6,\n        md: 2.4,\n        lg: 2.4,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: idx,\n          onClick: () => navigate(`/movie-details?id=${movie === null || movie === void 0 ? void 0 : movie.id}`),\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              maxWidth: 345\n            },\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              sx: {\n                height: 350\n              },\n              image: IMG_URL + (movie === null || movie === void 0 ? void 0 : movie.poster_path),\n              title: \"green iguana\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"movie-card-content\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: \"typo\",\n                gutterBottom: true,\n                component: \"div\",\n                children: movie === null || movie === void 0 ? void 0 : movie.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: movie === null || movie === void 0 ? void 0 : movie.release_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PaginationComponent, {\n      totalPages: totalPages,\n      changePage: changePage,\n      currentPage: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Search, \"w7FgET+Pvk3njPIxbhwXZP8kabk=\", false, function () {\n  return [useNavigate];\n});\n_c = Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["Box","Card","CardContent","CardMedia","Container","Grid","Pagination","Typography","React","useEffect","useState","API_URL","IMG_URL","axios","Header","useNavigate","PaginationComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","Search","_s","navigate","searchParams","URLSearchParams","document","location","search","searchQuery","get","genreId","console","log","moviesList","setMoviesList","page","setPage","totalPages","setTotalPages","loadSearchMoviesData","pageNumber","type","subUrl","_moviesData$data","_moviesData$data2","url","moviesData","data","total_pages","results","changePage","_window","window","scrollTo","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","minHeight","container","spacing","map","movie","idx","width","item","xs","md","lg","id","onClick","sx","maxWidth","height","image","poster_path","title","className","gutterBottom","component","variant","color","release_date","currentPage","_c","$RefreshReg$"],"sources":["/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Search.js"],"sourcesContent":["import {\n  Box,\n  Card,\n  CardContent,\n  CardMedia,\n  Container,\n  Grid,\n  Pagination,\n  Typography,\n} from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL, IMG_URL } from \"../constans/API\";\nimport axios from \"axios\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\n\nexport const Search = () => {\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(document.location.search);\n  const searchQuery = searchParams.get(\"query\");\n  const genreId = searchParams.get(\"genreId\");\n  console.log(\"genreId\", genreId);\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n\n  const loadSearchMoviesData = async (pageNumber = page, type, subUrl) => {\n    const url = `${API_URL}/${type}/movie?api_key=26eb8fe0ea17478b691097b4e10c4ac9${subUrl}&page=${pageNumber}`;\n    const moviesData = await axios.get(url);\n    console.log(\"movies Data\", moviesData);\n    setTotalPages(moviesData?.data?.total_pages);\n    setMoviesList(moviesData?.data?.results);\n  };\n\n  const changePage = (pageNumber) => {\n    setPage(pageNumber);\n    window?.scrollTo(0,0);\n  };\n\n  useEffect(() => {\n    if (genreId) {\n      const subUrl = `&with_genres=${genreId}`;\n      loadSearchMoviesData(page, \"discover\", subUrl);\n    } else {\n      const subUrl = `&query=${searchQuery}`;\n      loadSearchMoviesData(page, \"search\", subUrl);\n    }\n  }, [searchQuery, genreId, page]);\n\n  return (\n    <>\n      <Header />\n      <Grid\n        style={{ padding: \"50px 25px\", minHeight: \"600px\" }}\n        container\n        spacing={2}\n      >\n        {moviesList?.map((movie, idx) => (\n          <Grid style={{ width: \"90%\" }} item xs={6} md={2.4} lg={2.4}>\n            <div\n              id={idx}\n              onClick={() => navigate(`/movie-details?id=${movie?.id}`)}\n            >\n              <Card sx={{ maxWidth: 345 }}>\n                <CardMedia\n                  sx={{ height: 350 }}\n                  image={IMG_URL + movie?.poster_path}\n                  title=\"green iguana\"\n                />\n                <CardContent className=\"movie-card-content\">\n                  <Typography className=\"typo\" gutterBottom component=\"div\">\n                    {movie?.title}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {movie?.release_date}\n                  </Typography>\n                </CardContent>\n              </Card>\n            </div>\n          </Grid>\n        ))}\n      </Grid>\n      <PaginationComponent\n        totalPages={totalPages}\n        changePage={changePage}\n        currentPage={page}\n      />\n    </>\n  );\n};\n"],"mappings":";;AAAA,SACEA,GAAG,EACHC,IAAI,EACJC,WAAW,EACXC,SAAS,EACTC,SAAS,EACTC,IAAI,EACJC,UAAU,EACVC,UAAU,QACL,eAAe;AACtB,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,OAAO,QAAQ,iBAAiB;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,6BAA6B;AAChD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,mBAAmB,MAAM,0CAA0C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3E,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,YAAY,GAAG,IAAIC,eAAe,CAACC,QAAQ,CAACC,QAAQ,CAACC,MAAM,CAAC;EAClE,MAAMC,WAAW,GAAGL,YAAY,CAACM,GAAG,CAAC,OAAO,CAAC;EAC7C,MAAMC,OAAO,GAAGP,YAAY,CAACM,GAAG,CAAC,SAAS,CAAC;EAC3CE,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,OAAO,CAAC;EAE/B,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0B,IAAI,EAAEC,OAAO,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;EAE/C,MAAM8B,oBAAoB,GAAG,MAAAA,CAAOC,UAAU,GAAGL,IAAI,EAAEM,IAAI,EAAEC,MAAM,KAAK;IAAA,IAAAC,gBAAA,EAAAC,iBAAA;IACtE,MAAMC,GAAG,GAAI,GAAEnC,OAAQ,IAAG+B,IAAK,kDAAiDC,MAAO,SAAQF,UAAW,EAAC;IAC3G,MAAMM,UAAU,GAAG,MAAMlC,KAAK,CAACiB,GAAG,CAACgB,GAAG,CAAC;IACvCd,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEc,UAAU,CAAC;IACtCR,aAAa,CAACQ,UAAU,aAAVA,UAAU,wBAAAH,gBAAA,GAAVG,UAAU,CAAEC,IAAI,cAAAJ,gBAAA,uBAAhBA,gBAAA,CAAkBK,WAAW,CAAC;IAC5Cd,aAAa,CAACY,UAAU,aAAVA,UAAU,wBAAAF,iBAAA,GAAVE,UAAU,CAAEC,IAAI,cAAAH,iBAAA,uBAAhBA,iBAAA,CAAkBK,OAAO,CAAC;EAC1C,CAAC;EAED,MAAMC,UAAU,GAAIV,UAAU,IAAK;IAAA,IAAAW,OAAA;IACjCf,OAAO,CAACI,UAAU,CAAC;IACnB,CAAAW,OAAA,GAAAC,MAAM,cAAAD,OAAA,uBAANA,OAAA,CAAQE,QAAQ,CAAC,CAAC,EAAC,CAAC,CAAC;EACvB,CAAC;EAED7C,SAAS,CAAC,MAAM;IACd,IAAIsB,OAAO,EAAE;MACX,MAAMY,MAAM,GAAI,gBAAeZ,OAAQ,EAAC;MACxCS,oBAAoB,CAACJ,IAAI,EAAE,UAAU,EAAEO,MAAM,CAAC;IAChD,CAAC,MAAM;MACL,MAAMA,MAAM,GAAI,UAASd,WAAY,EAAC;MACtCW,oBAAoB,CAACJ,IAAI,EAAE,QAAQ,EAAEO,MAAM,CAAC;IAC9C;EACF,CAAC,EAAE,CAACd,WAAW,EAAEE,OAAO,EAAEK,IAAI,CAAC,CAAC;EAEhC,oBACElB,OAAA,CAAAE,SAAA;IAAAmC,QAAA,gBACErC,OAAA,CAACJ,MAAM;MAAA0C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVzC,OAAA,CAACb,IAAI;MACHuD,KAAK,EAAE;QAAEC,OAAO,EAAE,WAAW;QAAEC,SAAS,EAAE;MAAQ,CAAE;MACpDC,SAAS;MACTC,OAAO,EAAE,CAAE;MAAAT,QAAA,EAEVrB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE+B,GAAG,CAAC,CAACC,KAAK,EAAEC,GAAG,kBAC1BjD,OAAA,CAACb,IAAI;QAACuD,KAAK,EAAE;UAAEQ,KAAK,EAAE;QAAM,CAAE;QAACC,IAAI;QAACC,EAAE,EAAE,CAAE;QAACC,EAAE,EAAE,GAAI;QAACC,EAAE,EAAE,GAAI;QAAAjB,QAAA,eAC1DrC,OAAA;UACEuD,EAAE,EAAEN,GAAI;UACRO,OAAO,EAAEA,CAAA,KAAMnD,QAAQ,CAAE,qBAAoB2C,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEO,EAAG,EAAC,CAAE;UAAAlB,QAAA,eAE1DrC,OAAA,CAACjB,IAAI;YAAC0E,EAAE,EAAE;cAAEC,QAAQ,EAAE;YAAI,CAAE;YAAArB,QAAA,gBAC1BrC,OAAA,CAACf,SAAS;cACRwE,EAAE,EAAE;gBAAEE,MAAM,EAAE;cAAI,CAAE;cACpBC,KAAK,EAAElE,OAAO,IAAGsD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEa,WAAW,CAAC;cACpCC,KAAK,EAAC;YAAc;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,eACFzC,OAAA,CAAChB,WAAW;cAAC+E,SAAS,EAAC,oBAAoB;cAAA1B,QAAA,gBACzCrC,OAAA,CAACX,UAAU;gBAAC0E,SAAS,EAAC,MAAM;gBAACC,YAAY;gBAACC,SAAS,EAAC,KAAK;gBAAA5B,QAAA,EACtDW,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEc;cAAK;gBAAAxB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACbzC,OAAA,CAACX,UAAU;gBAAC6E,OAAO,EAAC,OAAO;gBAACC,KAAK,EAAC,gBAAgB;gBAAA9B,QAAA,EAC/CW,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEoB;cAAY;gBAAA9B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACPzC,OAAA,CAACF,mBAAmB;MAClBsB,UAAU,EAAEA,UAAW;MACvBa,UAAU,EAAEA,UAAW;MACvBoC,WAAW,EAAEnD;IAAK;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAACrC,EAAA,CA1EWD,MAAM;EAAA,QACAN,WAAW;AAAA;AAAAyE,EAAA,GADjBnE,MAAM;AAAA,IAAAmE,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}