{"ast":null,"code":"var _jsxFileName = \"/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Search.js\",\n  _s = $RefreshSig$();\nimport { Box, Card, CardContent, CardMedia, Container, Grid, Pagination, Typography } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL, IMG_URL } from \"../constans/API\";\nimport axios from \"axios\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Search = () => {\n  _s();\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(document.location.search);\n  const searchQuery = searchParams.get(\"query\");\n  const genreId = searchParams.get(\"genreId\");\n  console.log(\"genreId\", genreId);\n  const [moviesList, setMoviesList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [totalResults, setTotalResults] = useState(0);\n  const loadSearchMoviesData = async (pageNumber = page, type, subUrl) => {\n    var _moviesData$data, _moviesData$data2, _moviesData$data3;\n    const url = `${API_URL}/${type}/movie?api_key=26eb8fe0ea17478b691097b4e10c4ac9${subUrl}&page=${pageNumber}`;\n    const moviesData = await axios.get(url);\n    console.log(\"movies Data\", moviesData);\n    setTotalPages(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data = moviesData.data) === null || _moviesData$data === void 0 ? void 0 : _moviesData$data.total_pages);\n    setTotalResults(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data2 = moviesData.data) === null || _moviesData$data2 === void 0 ? void 0 : _moviesData$data2.total_results);\n    setMoviesList(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data3 = moviesData.data) === null || _moviesData$data3 === void 0 ? void 0 : _moviesData$data3.results);\n  };\n  const changePage = pageNumber => {\n    var _window;\n    setPage(pageNumber);\n    (_window = window) === null || _window === void 0 ? void 0 : _window.scrollTo(0, 0);\n  };\n  useEffect(() => {\n    if (genreId) {\n      const subUrl = `&with_genres=${genreId}`;\n      loadSearchMoviesData(page, \"discover\", subUrl);\n    } else {\n      const subUrl = `&query=${searchQuery}`;\n      loadSearchMoviesData(page, \"search\", subUrl);\n    }\n  }, [searchQuery, genreId, page]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), console.log(\"result\", moviesList), searchQuery && (searchQuery === null || searchQuery === void 0 ? void 0 : searchQuery.length) && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Total results for \", searchQuery, \": \", totalResults]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        padding: \"50px 25px\",\n        minHeight: \"600px\"\n      },\n      container: true,\n      spacing: 2,\n      children: moviesList === null || moviesList === void 0 ? void 0 : moviesList.map((movie, idx) => /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          width: \"90%\"\n        },\n        item: true,\n        xs: 6,\n        md: 2.4,\n        lg: 2.4,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: idx,\n          onClick: () => navigate(`/movie-details?id=${movie === null || movie === void 0 ? void 0 : movie.id}`),\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              maxWidth: 345\n            },\n            children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n              sx: {\n                height: 350\n              },\n              image: IMG_URL + (movie === null || movie === void 0 ? void 0 : movie.poster_path),\n              title: \"green iguana\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"movie-card-content\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: \"typo\",\n                gutterBottom: true,\n                component: \"div\",\n                children: movie === null || movie === void 0 ? void 0 : movie.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: movie === null || movie === void 0 ? void 0 : movie.release_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PaginationComponent, {\n      totalPages: totalPages,\n      changePage: changePage,\n      currentPage: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Search, \"MErek4KENcxMF3YHVAJKDOh0L4k=\", false, function () {\n  return [useNavigate];\n});\n_c = Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["Box","Card","CardContent","CardMedia","Container","Grid","Pagination","Typography","React","useEffect","useState","API_URL","IMG_URL","axios","Header","useNavigate","PaginationComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","Search","_s","navigate","searchParams","URLSearchParams","document","location","search","searchQuery","get","genreId","console","log","moviesList","setMoviesList","page","setPage","totalPages","setTotalPages","totalResults","setTotalResults","loadSearchMoviesData","pageNumber","type","subUrl","_moviesData$data","_moviesData$data2","_moviesData$data3","url","moviesData","data","total_pages","total_results","results","changePage","_window","window","scrollTo","children","fileName","_jsxFileName","lineNumber","columnNumber","length","style","padding","minHeight","container","spacing","map","movie","idx","width","item","xs","md","lg","id","onClick","sx","maxWidth","height","image","poster_path","title","className","gutterBottom","component","variant","color","release_date","currentPage","_c","$RefreshReg$"],"sources":["/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Search.js"],"sourcesContent":["import {\n  Box,\n  Card,\n  CardContent,\n  CardMedia,\n  Container,\n  Grid,\n  Pagination,\n  Typography,\n} from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL, IMG_URL } from \"../constans/API\";\nimport axios from \"axios\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\n\nexport const Search = () => {\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(document.location.search);\n  const searchQuery = searchParams.get(\"query\");\n  const genreId = searchParams.get(\"genreId\");\n  console.log(\"genreId\", genreId);\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [totalResults, setTotalResults] = useState(0);\n\n  const loadSearchMoviesData = async (pageNumber = page, type, subUrl) => {\n    const url = `${API_URL}/${type}/movie?api_key=26eb8fe0ea17478b691097b4e10c4ac9${subUrl}&page=${pageNumber}`;\n    const moviesData = await axios.get(url);\n    console.log(\"movies Data\", moviesData);\n    setTotalPages(moviesData?.data?.total_pages);\n    setTotalResults(moviesData?.data?.total_results);\n    setMoviesList(moviesData?.data?.results);\n  };\n\n  const changePage = (pageNumber) => {\n    setPage(pageNumber);\n    window?.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    if (genreId) {\n      const subUrl = `&with_genres=${genreId}`;\n      loadSearchMoviesData(page, \"discover\", subUrl);\n    } else {\n      const subUrl = `&query=${searchQuery}`;\n      loadSearchMoviesData(page, \"search\", subUrl);\n    }\n  }, [searchQuery, genreId, page]);\n\n  return (\n    <>\n      <Header />\n      {console.log(\"result\", moviesList)}\n      {searchQuery && searchQuery?.length && (\n          <h3>\n            Total results for {searchQuery}: {totalResults}\n          </h3>\n        )}\n      <Grid\n        style={{ padding: \"50px 25px\", minHeight: \"600px\" }}\n        container\n        spacing={2}\n      >\n        \n        {moviesList?.map((movie, idx) => (\n          <Grid style={{ width: \"90%\" }} item xs={6} md={2.4} lg={2.4}>\n            <div\n              id={idx}\n              onClick={() => navigate(`/movie-details?id=${movie?.id}`)}\n            >\n              <Card sx={{ maxWidth: 345 }}>\n                <CardMedia\n                  sx={{ height: 350 }}\n                  image={IMG_URL + movie?.poster_path}\n                  title=\"green iguana\"\n                />\n                <CardContent className=\"movie-card-content\">\n                  <Typography className=\"typo\" gutterBottom component=\"div\">\n                    {movie?.title}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {movie?.release_date}\n                  </Typography>\n                </CardContent>\n              </Card>\n            </div>\n          </Grid>\n        ))}\n      </Grid>\n      <PaginationComponent\n        totalPages={totalPages}\n        changePage={changePage}\n        currentPage={page}\n      />\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}