{"ast":null,"code":"var _jsxFileName = \"/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Search.js\",\n  _s = $RefreshSig$();\nimport { Box, Card, CardContent, CardMedia, Container, Grid, Pagination, Typography } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL, IMG_URL } from \"../constans/API\";\nimport axios from \"axios\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\nimport { MovieList } from \"./MovieList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Search = () => {\n  _s();\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(document.location.search);\n  const searchQuery = searchParams.get(\"query\");\n  const genreId = searchParams.get(\"genreId\");\n  console.log(\"genreId\", genreId);\n  const [moviesList, setMoviesList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [totalResults, setTotalResults] = useState(0);\n  const loadSearchMoviesData = async (pageNumber = page, type, subUrl) => {\n    var _moviesData$data, _moviesData$data2, _moviesData$data3;\n    const url = `${API_URL}/${type}/movie?api_key=26eb8fe0ea17478b691097b4e10c4ac9${subUrl}&page=${pageNumber}`;\n    const moviesData = await axios.get(url);\n    console.log(\"movies Data\", moviesData);\n    setTotalPages(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data = moviesData.data) === null || _moviesData$data === void 0 ? void 0 : _moviesData$data.total_pages);\n    setTotalResults(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data2 = moviesData.data) === null || _moviesData$data2 === void 0 ? void 0 : _moviesData$data2.total_results);\n    setMoviesList(moviesData === null || moviesData === void 0 ? void 0 : (_moviesData$data3 = moviesData.data) === null || _moviesData$data3 === void 0 ? void 0 : _moviesData$data3.results);\n  };\n  const changePage = pageNumber => {\n    var _window;\n    setPage(pageNumber);\n    (_window = window) === null || _window === void 0 ? void 0 : _window.scrollTo(0, 0);\n  };\n  useEffect(() => {\n    if (genreId) {\n      const subUrl = `&with_genres=${genreId}`;\n      loadSearchMoviesData(page, \"discover\", subUrl);\n    } else {\n      const subUrl = `&query=${searchQuery}`;\n      loadSearchMoviesData(page, \"search\", subUrl);\n    }\n  }, [searchQuery, genreId, page]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        padding: \"25px\",\n        minHeight: \"600px\",\n        marginTop: \"5%\"\n      },\n      container: true,\n      spacing: 2,\n      children: [searchQuery && (searchQuery === null || searchQuery === void 0 ? void 0 : searchQuery.length) && /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"cornflowerblue\",\n          margin: \"auto\"\n        },\n        children: [\"Total results for \", searchQuery, \": \", totalResults]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), (moviesList === null || moviesList === void 0 ? void 0 : moviesList.length) && /*#__PURE__*/_jsxDEV(MovieList, {\n        moviesList: moviesList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PaginationComponent, {\n      totalPages: totalPages,\n      changePage: changePage,\n      currentPage: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Search, \"MErek4KENcxMF3YHVAJKDOh0L4k=\", false, function () {\n  return [useNavigate];\n});\n_c = Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["Box","Card","CardContent","CardMedia","Container","Grid","Pagination","Typography","React","useEffect","useState","API_URL","IMG_URL","axios","Header","useNavigate","PaginationComponent","MovieList","jsxDEV","_jsxDEV","Fragment","_Fragment","Search","_s","navigate","searchParams","URLSearchParams","document","location","search","searchQuery","get","genreId","console","log","moviesList","setMoviesList","page","setPage","totalPages","setTotalPages","totalResults","setTotalResults","loadSearchMoviesData","pageNumber","type","subUrl","_moviesData$data","_moviesData$data2","_moviesData$data3","url","moviesData","data","total_pages","total_results","results","changePage","_window","window","scrollTo","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","minHeight","marginTop","container","spacing","length","color","margin","currentPage","_c","$RefreshReg$"],"sources":["/Users/parthvaishnani/Documents/Parth Materials/Parth Projects/movie-project-react/src/pages/Search.js"],"sourcesContent":["import {\n  Box,\n  Card,\n  CardContent,\n  CardMedia,\n  Container,\n  Grid,\n  Pagination,\n  Typography,\n} from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL, IMG_URL } from \"../constans/API\";\nimport axios from \"axios\";\nimport Header from \"../common-components/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport PaginationComponent from \"../common-components/PaginationComponent\";\nimport { MovieList } from \"./MovieList\";\n\nexport const Search = () => {\n  const navigate = useNavigate();\n  const searchParams = new URLSearchParams(document.location.search);\n  const searchQuery = searchParams.get(\"query\");\n  const genreId = searchParams.get(\"genreId\");\n  console.log(\"genreId\", genreId);\n\n  const [moviesList, setMoviesList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [totalResults, setTotalResults] = useState(0);\n\n  const loadSearchMoviesData = async (pageNumber = page, type, subUrl) => {\n    const url = `${API_URL}/${type}/movie?api_key=26eb8fe0ea17478b691097b4e10c4ac9${subUrl}&page=${pageNumber}`;\n    const moviesData = await axios.get(url);\n    console.log(\"movies Data\", moviesData);\n    setTotalPages(moviesData?.data?.total_pages);\n    setTotalResults(moviesData?.data?.total_results);\n    setMoviesList(moviesData?.data?.results);\n  };\n\n  const changePage = (pageNumber) => {\n    setPage(pageNumber);\n    window?.scrollTo(0, 0);\n  };\n\n  useEffect(() => {\n    if (genreId) {\n      const subUrl = `&with_genres=${genreId}`;\n      loadSearchMoviesData(page, \"discover\", subUrl);\n    } else {\n      const subUrl = `&query=${searchQuery}`;\n      loadSearchMoviesData(page, \"search\", subUrl);\n    }\n  }, [searchQuery, genreId, page]);\n\n  return (\n    <>\n      <Header />\n      <Grid\n        style={{ padding: \"25px\", minHeight: \"600px\", marginTop: \"5%\" }}\n        container\n        spacing={2}\n      >\n        {searchQuery && searchQuery?.length && (\n          <h2 style={{ color: \"cornflowerblue\", margin:\"auto\" }}>\n            Total results for {searchQuery}: {totalResults}\n          </h2>\n        )}\n        {moviesList?.length && <MovieList moviesList={moviesList} />}\n      </Grid>\n      <PaginationComponent\n        totalPages={totalPages}\n        changePage={changePage}\n        currentPage={page}\n      />\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}